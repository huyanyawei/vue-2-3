import e from"vue";import{createApp as t,h as r}from"vue3";var n=Symbol();function i(e,t){e[n]||(e[n]=t,Object.defineProperty(e,"parentNode",{get:function(){return this[n]||this.parentElement}}))}var o=function(e,t){var r=e.splice(0);t.append.apply(t,r),r.forEach((function(e){e[n]=void 0}))};function a(e,t){if(this.frag){var r=this.frag.indexOf(t);r>-1&&this.frag.splice(r,0,e)}if(this[f]){var n=this[f].get(t);n&&(t=n[0])}t.before(e),i(e,this)}function s(e){if(this.frag){var t=this.frag.indexOf(e);t>-1&&this.frag.splice(t,1)}var r=this[f];if(r){var i=r.get(e);if(i)return o(i,e),r.delete(e),void(e[n]=void 0)}e.remove()}var f=Symbol(),c={insertBefore:a,removeChild:s},u=Symbol(),p={insertBefore:a,before:function(e){this.frag[0].before(e)},remove:function(){var e=this[u],t=this.frag,r=t.splice(0,t.length,e);r[0].before(this[u]),r.forEach((function(e){return e.remove()}))},removeChild:s,appendChild:function(e){var t=this.frag.length;this.frag[t-1].after(e);var r=this[u];this.frag[0]===r&&(this.frag.splice(0,1),r.remove()),i(e,this),this.frag.push(e)}},v={inserted:function(e){var t=Array.from(e.childNodes),r=e.parentNode,n=document.createComment("");e[u]=n,0===t.length&&t.push(n);var o=document.createDocumentFragment();o.append.apply(o,t),e.replaceWith(o),e.frag=t,function(e,t,r){e[f]||(e[f]=new Map,Object.assign(e,c)),e[f].set(t,r)}(r,e,t),i(e,r),t.forEach((function(t){return i(t,e)})),Object.defineProperty(e,"innerHTML",{set:function(t){var r=document.createElement("div");r.innerHTML=t;var n=e.frag.length;Array.from(r.childNodes).forEach((function(t){return e.appendChild(t)})),r.append.apply(r,e.frag.splice(0,n))},get:function(){return""}}),Object.assign(e,p)},unbind:function(e){o(e.frag,e),e[u].remove()}},d=function(){};var h=/-(\w)/g;var l={props:["parent","vnode"],created:function(){this.vue2App=void 0},mounted:function(){var t=this,r=this;this.vue2App=new e({beforeCreate:function(){this.$parent=r.parent},directives:{frag:v},render:function(e){return e("div",{directives:[{name:"frag"}]},[t.vnode()])},el:this.$el})},beforeUnmount:function(){this.vue2App.$destroy()},render:function(){return this.vue2App&&this.vue2App.$forceUpdate(),r("div")}};function m(e,t){for(var r=e;r;){if(r._provided&&r._provided[t])return r._provided[t];r=r.$parent}}var g={inheritAttrs:!1,beforeCreate:function(){if(!(e=this)._uid||!e._isVue)throw new Error("toVue2 must be used to mount a component in a Vue 2 app");var e},provide:function(){return{}},mounted:function(){var e=this,n=this;this.v3app=t({render:function(){return r(e.$options.component,function(e){var t,r=e.$attrs,n=e.$listeners,i=e.$vnode.data,o=Object.assign({},r);for(var a in(i.class||i.staticClass)&&(o.class=[i.class,i.staticClass]),(i.style||i.staticStyle)&&(o.style=[i.style,i.staticStyle]),n)o[(t=a,"&"===t[0]&&(t=t.slice(1)+"Passive"),"~"===t[0]&&(t=t.slice(1)+"Once"),"!"===t[0]&&(t=t.slice(1)+"Capture"),"on"+(t[0].toUpperCase()+t.slice(1).replace(h,(function(e,t){return t?t.toUpperCase():""}))))]=n[a];return o}(e),function(e){var t={},n=function(n){t[n]=function(){return r(l,{parent:e,vnode:e.$scopedSlots[n]})}};for(var i in e.$scopedSlots)n(i);return t}(e))},mounted:function(){var e=this;n.v3forceUpdate=function(){return e.$forceUpdate()},n.v3=this._.subTree.component.proxy}}),this.v3app._context.provides=new Proxy({},{has:function(t,r){return m(e,r)},get:function(t,r){return m(e,r)},set:function(t,r,n){return e._provided[r]=n,!0}});var i,o=this.$el,a=this.v3app.mount((i=o,{insertBefore:function(e,t){return i.parentNode.insertBefore(e,t||i)},removeAttribute:d,setAttribute:d}));this.$el=a.$el,o.remove()},beforeDestroy:function(){this.v3app.unmount()},render:function(e){return this.v3forceUpdate&&this.v3forceUpdate(),e("div")}};export default function(e){var t=Object.create(g);return t.component=e,t}
